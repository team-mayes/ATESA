# This is an example configuration file for ATESA containing the default values for every possible setting, grouped
# together based on type or use case. Lines are interpreted as if they were python code (which means comments starting
# with '#' and blank lines are ignored, and strings must be delimited by quotes) with the packages numpy and pytraj
# supported. See documentation for descriptions of each setting.
#
# setting_name = setting_value      # [<list of supported options, where applicable>]

# Core settings required for all jobs
job_type = 'aimless_shooting'       # ['aimless_shooting', 'committor_analysis', 'equilibrium_path_sampling', 'isee']
batch_system = 'slurm'              # ['slurm', 'pbs']
restart = False                     # [True, False]
md_engine = 'amber'                 # ['amber']
task_manager = 'simple'             # ['simple']
topology = 'topology.prmtop'
working_directory = sys.path[0] + '/atesa_v2/tests/test_temp'
overwrite = False                   # [True, False]

# Batch template settings, required if the corresponding template slot (minus the step type prefix) appears in
# <md_engine>_<batch_system>.tpl, and ignored otherwise. For instance, if {{ ppn }} appears in a batch file to be used,
# the options corresponding to each step type within the chosen job_type followed by '_ppn' (e.g., for aimless shooting,
# 'init_ppn' and 'prod_ppn') are required.
init_nodes = 1          # 'init' is a step type for aimless_shooting and equilibrium_path_sampling
init_ppn = 1
init_mem = '4000mb'
init_walltime = '00:30:00'
init_solver = 'sander'
prod_nodes = 1          # 'prod' is a step type for aimless_shooting, committor_analysis, and equilibrium_path_sampling
prod_ppn = 8
prod_mem = '4000mb'
prod_walltime = '02:00:00'
prod_solver = 'pmemd'

# Optional settings (defaults will be used if omitted)
path_to_input_files = sys.path[0] + '/atesa_v2/data/input_files'    # default: sys.path[0] + '/atesa_v2/data/input_files'
path_to_templates = sys.path[0] + '/atesa_v2/data/templates'        # default: sys.path[0] + '/atesa_v2/data/templates'

# Required only for aimless shooting, equilibrium path sampling, and committor analysis
cvs = ['pytraj.distance(traj, \'@1 @2\')[0]', 'pytraj.angle(traj, \'@2 @3 @4\')[0]']

# Required only for aimless shooting and equilibrium path sampling
initial_coordinates = ['init.rst7']

# Required only for aimless shooting and committor analysis
commit_fwd = [[1, 2], [3, 4], [1.5, 2.0], ['lt', 'gt']]
commit_bwd = [[1, 2], [3, 4], [2.0, 1.5], ['gt', 'lt']]

# Required only for committor analysis and equilibrium path sampling
rc_definition = '1.00 + 2.34*CV1 - 5.67*CV2'
as_out_file = 'as.out'

# Required only for aimless shooting
include_qdot = True
min_dt = 1
max_dt = 10
always_new = True
resample = False

# Required only for committor analysis
committor_analysis_n = 10
committor_analysis_use_rc_out = True    # [True, False]; path_to_rc_out and rc_threshold required only if True; initial_coordinates required if False
path_to_rc_out = sys.path[0] + '/atesa_v2/tests/test_data/rc.out'
rc_threshold = 0.05

# Required only if restart = True
restart_terminated_threads = False

# ... (this file is unfinished)
